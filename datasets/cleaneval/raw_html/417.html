<html>
 <head> 
 </head> 
 <body bgcolor="white"> 
  <text encoding="unset" id="http://www.faqs.org/docs/electric/Semi/SEMI_9.html" title="Lessons In Electric Circuits -- Volume III (Semiconductors) - Chapter 9"> 
   <a href="SEMI_8.html"> <img alt="Previous" src="previous.jpg"> </a> 
   <a href="index.html"> <img alt="Contents" src="contents.jpg"> </a> 
   <a href="SEMI_10.html"> <img alt="Next" src="next.jpg"> </a> 
   <hr> 
   <h1> <span __num="0" __label="true"> Lessons In Electric Circuits -- Volume III </span> </h1> 
   <h1> <span __num="1" __label="true"> Chapter 9 </span> </h1> 
   <!--Modified 04/27/2002 - 04/28/2002 (TK) -- Began writing "Computational Circuits" section.--> 
   <!--Modified 05/01/2002 (TK) -- Added some comments, and one illustration, to the "Computational Circuits" section, regarding noise errors and drift errors.--> 
   <!--Modified 06/23/2002 (TK) -- Minor editing.--> 
   <!--Modified 06/29/2002 (TK) -- Modified image markup to new SubML standard (version 0.94), whereby HTML-compatible filename extensions are included within the "image" tags, not just the file name itself.  This new markup standard allows for more flexibility in image file formats for HTML output.--> 
   <!--Modified 08/23/2002 (TK) -- Added Warren Young's (modified) text as the first installment of a new "Power Supplies" section.--> 
   <!--Modified 12/09/2002 (TK) -- Corrected error in image 03335, with incorrect feedback resistor value (it was 2000 ohms and it should have been 1000 ohms).--> 
   <hr> 
   <h1> <span __num="2" __label="true"> PRACTICAL ANALOG SEMICONDUCTOR CIRCUITS </span> </h1> 
   <p> <b> <span __num="3" __label="true"> *** INCOMPLETE *** </span> </b> </p> 
   <hr> 
   <h2> <u> <span __num="4" __label="true"> Power supply circuits -- INCOMPLETE </span> </u> </h2> 
   <p> <span __num="5" __label="true"> There are three major kinds of power supplies: </span> <i> <span __num="6" __label="true"> unregulated </span> </i> <span __num="7" __label="true"> (also called </span> <i> <span __num="8" __label="true"> brute force </span> </i> <span __num="9" __label="true"> ), </span> <i> <span __num="10" __label="true"> linear regulated </span> </i> <span __num="11" __label="true"> , and </span> <i> <span __num="12" __label="true"> switching </span> </i> <span __num="13" __label="true"> . A fourth type of power supply circuit called the </span> <i> <span __num="14" __label="true"> ripple-regulated </span> </i> <span __num="15" __label="true"> , is a hybrid between the "brute force" and "switching" designs, and merits a subsection to itself. </span> </p> 
   <h3> <u> <span __num="16" __label="true"> Unregulated </span> </u> </h3> 
   <p> <span __num="17" __label="true"> An unregulated power supply is the most rudimentary type, consisting of a transformer, rectifier, and low-pass filter. These power supplies typically exhibit a lot of ripple voltage (i.e. rapidly-varying instability) and other AC "noise" superimposed on the DC power. If the input voltage varies, the output voltage will vary by a proportional amount. The advantage of an unregulated supply is that it's cheap, simple, and efficient. </span> </p> 
   <h3> <u> <span __num="18" __label="true"> Linear regulated </span> </u> </h3> 
   <p> <span __num="19" __label="true"> A linear regulated supply is simply a "brute force" (unregulated) power supply followed by a transistor circuit operating in its "active," or "linear" mode, hence the name </span> <i> <span __num="20" __label="true"> linear </span> </i> <span __num="21" __label="true"> regulator. (Obvious in retrospect, isn't it?) A typical linear regulator is designed to output a fixed voltage for a wide range of input voltages, and it simply drops any excess input voltage to allow a maximum output voltage to the load. This excess voltage drop results in significant power dissipation in the form of heat. If the input voltage gets too low, the transistor circuit will lose regulation, meaning that it will fail to keep the voltage steady. It can only drop excess voltage, not make up for a deficiency in voltage from the brute force section of the circuit. Therefore, you have to keep the input voltage at least 1 to 3 volts higher than the desired output, depending on the regulator type. This means the power equivalent of at </span> <i> <span __num="22" __label="true"> least </span> </i> <span __num="23" __label="true"> 1 to 3 volts multiplied by the full load current will be dissipated by the regulator circuit, generating a lot of heat. This makes linear regulated power supplies rather inefficient. Also, to get rid of all that heat they have to use large heat sinks which makes them large, heavy, and expensive. </span> </p> 
   <h3> <u> <span __num="24" __label="true"> Switching </span> </u> </h3> 
   <p> <span __num="25" __label="true"> A switching regulated power supply ("switcher") is an effort to realize the advantages of both brute force and linear regulated designs (small, efficient, and cheap, but also "clean," stable output voltage). Switching power supplies work on the principle of rectifying the incoming AC power line voltage into DC, re-converting it into high-frequency square-wave AC through transistors operated as on/off switches, stepping that AC voltage up or down by using a lightweight transformer, then rectifying the transformer's AC output into DC and filtering for final output. Voltage regulation is achieved by altering the "duty cycle" of the DC-to-AC inversion on the transformer's primary side. In addition to lighter weight because of a smaller transformer core, switchers have another tremendous advantage over the prior two designs: this type of power supply can be made so totally independent of the input voltage that it can work on any electric power system in the world; these are called "universal" power supplies. </span> </p> 
   <p> <span __num="26" __label="true"> The downside of switchers is that they are more complex, and due to their operation they tend to generate a lot of high-frequency AC "noise" on the power line. Most switchers also have significant ripple voltage on their outputs. With the cheaper types, this noise and ripple can be as bad as for an unregulated power supply; such low-end switchers aren't worthless, because they still provide a stable average output voltage, and there's the "universal" input capability. </span> </p> 
   <p> <span __num="27" __label="true"> Expensive switchers are ripple-free and have noise nearly as low as for some a linear types; these switchers tend to be as expensive as linear supplies. The reason to use an expensive switcher instead of a good linear is if you need universal power system compatibility or high efficiency. High efficiency, light weight, and small size are the reasons switching power supplies are almost univerally used for powering digital computer circuitry. </span> </p> 
   <h3> <u> <span __num="28" __label="true"> Ripple regulated </span> </u> </h3> 
   <p> <span __num="29" __label="true"> A ripple-regulated power supply is an alternative to the linear regulated design scheme: a "brute force" power supply (transformer, rectifier, filter) constitutes the "front end" of the circuit, but a transistor operated strictly in its on/off (saturation/cutoff) modes transfers DC power to a large capacitor as needed to maintain the output voltage between a high and a low setpoint. As in switchers, the transistor in a ripple regulator never passes current while in its "active," or "linear," mode for any substantial length of time, meaning that very little energy will be wasted in the form of heat. However, the biggest drawback to this regulation scheme is the necessary presence of some ripple voltage on the output, as the DC voltage varies between the two voltage control setpoints. Also, this ripple voltage varies in frequency depending on load current, which makes final filtering of the DC power more difficult. </span> </p> 
   <p> <span __num="30" __label="true"> Ripple regulator circuits tend to be quite a bit simpler than switcher circuitry, and they need not handle the high power line voltages that switcher transistors must handle, making them safer to work on. </span> </p> 
   <hr> 
   <h2> <u> <span __num="31" __label="true"> Amplifier circuits -- PENDING </span> </u> </h2> 
   <p> </p> 
   <hr> 
   <h2> <u> <span __num="32" __label="true"> Oscillator circuits -- PENDING </span> </u> </h2> 
   <p> </p> 
   <hr> 
   <h2> <u> <span __num="33" __label="true"> Phase-locked loops -- PENDING </span> </u> </h2> 
   <p> </p> 
   <hr> 
   <h2> <u> <span __num="34" __label="true"> Radio circuits -- PENDING </span> </u> </h2> 
   <p> </p> 
   <hr> 
   <h2> <u> <span __num="35" __label="true"> Computational circuits </span> </u> </h2> 
   <p> <span __num="36" __label="true"> When someone mentions the word "computer," a digital device is what usually comes to mind. Digital circuits represent numerical quantities in </span> <i> <span __num="37" __label="true"> binary </span> </i> <span __num="38" __label="true"> format: patterns of 1's and 0's represented by a multitude of transistor circuits operating in saturated or cutoff states. However, analog circuitry may also be used to represent numerical quantities and perform mathematical calculations, by using variable voltage signals instead of discrete on/off states. </span> </p> 
   <p> <span __num="39" __label="true"> Here is a simple example of binary (digital) representation versus analog representation of the number "twenty-five:" </span> </p> 
   <p> <img src="03333.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03334.png"> </p> 
   <p> <span __num="40" __label="true"> Digital circuits are very different from circuits built on analog principles. Digital computational circuits can be incredibly complex, and calculations must often be performed in sequential "steps" to obtain a final answer, much as a human being would perform arithmetical calculations in steps with pencil and paper. Analog computational circuits, on the other hand, are quite simple in comparison, and perform their calculations in continuous, real-time fashion. There is a disadvantage to using analog circuitry to represent numbers, though: imprecision. The digital circuit shown above is representing the number twenty-five, precisely. The analog circuit shown above may or may not be exactly calibrated to 25.000 volts, but is subject to "drift" and error. </span> </p> 
   <p> <span __num="41" __label="true"> In applications where precision is not critical, analog computational circuits are very practical and elegant. Shown here are a few op-amp circuits for performing analog computation: </span> </p> 
   <p> <img src="03335.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03336.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03337.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03338.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03342.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03340.png"> </p> 
   <p> </p> 
   <br> 
   <br> 
   <p> <img src="03339.png"> </p> 
   <p> <span __num="42" __label="true"> Each of these circuits may be used in modular fashion to create a circuit capable of multiple calculations. For instance, suppose that we needed to subtract a certain fraction of one variable from another variable. By combining a divide-by-constant circuit with a subtractor circuit, we could obtain the required function: </span> </p> 
   <p> <img src="03341.png"> </p> 
   <a name="Calculus"> </a> 
   <a name="Integration, calculus"> </a> 
   <a name="Differentiation, calculus"> </a> 
   <p> <span __num="43" __label="true"> Devices called </span> <i> <span __num="44" __label="true"> analog computers </span> </i> <span __num="45" __label="true"> used to be common in universities and engineering shops, where dozens of op-amp circuits could be "patched" together with removable jumper wires to model mathematical statements, usually for the purpose of simulating some physical process whose underlying equations were known. Digital computers have made analog computers all but obsolete, but analog computational circuitry cannot be beaten by digital in terms of sheer elegance and economy of necessary components. </span> </p> 
   <p> <span __num="46" __label="true"> Analog computational circuitry excels at performing the calculus operations </span> <i> <span __num="47" __label="true"> integration </span> </i> <span __num="48" __label="true"> and </span> <i> <span __num="49" __label="true"> differentiation </span> </i> <span __num="50" __label="true"> with respect to time, by using capacitors in an op-amp feedback loop. To fully understand these circuits' operation and applications, though, we must first grasp the meaning of these fundamental calculus concepts. Fortunately, the application of op-amp circuits to real-world problems involving calculus serves as an excellent means to teach basic calculus. In the words of John I. Smith, taken from his outstanding textbook, </span> <i> <span __num="51" __label="true"> Modern Operational Circuit Design </span> </i> <span __num="52" __label="true"> : </span> </p> 
   <blockquote> 
    <p> <i> <span __num="53" __label="true"> "A note of encouragement is offered to certain readers: integral calculus is one of the mathematical disciplines that operational [amplifier] circuitry exploits and, in the process, rather demolishes as a barrier to understanding." </span> </i> <span __num="54" __label="true"> (pg. 4) </span> </p> 
   </blockquote> 
   <p> <span __num="55" __label="true"> Mr. Smith's sentiments on the pedagogical value of analog circuitry as a learning tool for mathematics are not unique. Consider the opinion of engineer George Fox Lang, in an article he wrote for the August 2000 issue of the journal </span> <i> <span __num="56" __label="true"> Sound and Vibration </span> </i> <span __num="57" __label="true"> , entitled, "Analog was </span> <u> <span __num="58" __label="true"> not </span> </u> <span __num="59" __label="true"> a Computer Trademark!": </span> </p> 
   <blockquote> 
    <p> <i> <span __num="60" __label="true"> "Creating a real physical entity (a circuit) governed by a particular set of equations and interacting with it provides unique insight into those mathematical statements. There is no better way to develop a "gut feel" for the interplay between physics and mathematics than to experience such an interaction. The analog computer was a powerful interdisciplinary teaching tool; its obsolescence is mourned by many educators in a variety of fields." </span> </i> <span __num="61" __label="true"> (pg. 23) </span> </p> 
   </blockquote> 
   <p> <span __num="62" __label="true"> Differentiation is the first operation typically learned by beginning calculus students. Simply put, differentiation is determining the rate-of-change of one variable as it relates to another. In analog differentiator circuits, the independent variable is time, and so the rates of change we're dealing with are rates of change of some measured quantity over time. </span> </p> 
   <p> <span __num="63" __label="true"> Suppose we were to measure the position of a car, traveling in a direct path (no turns), from its starting point. Let us call this measurement, </span> <i> <span __num="64" __label="true"> x </span> </i> <span __num="65" __label="true"> . If the car moves at a rate such that its distance from "start" increases steadily over time, its position will plot on a graph as a </span> <i> <span __num="66" __label="true"> linear </span> </i> <span __num="67" __label="true"> function (straight line): </span> </p> 
   <p> <img src="03343.png"> </p> 
   <a name="Derivative, calculus"> </a> 
   <p> <span __num="68" __label="true"> If we were to calculate the </span> <i> <span __num="69" __label="true"> derivative </span> </i> <span __num="70" __label="true"> of the car's position with respect to time (that is, determine the rate-of-change of the car's position over time), we would arrive at a quantity representing the car's velocity. The differentiation function is represented by the fractional notation </span> <i> <span __num="71" __label="true"> d/d </span> </i> <span __num="72" __label="true"> , so when differentiating position ( </span> <i> <span __num="73" __label="true"> x </span> </i> <span __num="74" __label="true"> ) with respect to time ( </span> <i> <span __num="75" __label="true"> t </span> </i> <span __num="76" __label="true"> ), we denote the result (the derivative) as </span> <i> <span __num="77" __label="true"> dx/dt </span> </i> <span __num="78" __label="true"> : </span> </p> 
   <p> <img src="03344.png"> </p> 
   <p> <span __num="79" __label="true"> For a linear graph of </span> <i> <span __num="80" __label="true"> x </span> </i> <span __num="81" __label="true"> over time, the derivate of position ( </span> <i> <span __num="82" __label="true"> dx/dt </span> </i> <span __num="83" __label="true"> ), otherwise and more commonly known as </span> <i> <span __num="84" __label="true"> velocity </span> </i> <span __num="85" __label="true"> , will be a flat line, unchanging in value. The derivative of a mathematical function may be graphically understood as its </span> <i> <span __num="86" __label="true"> slope </span> </i> <span __num="87" __label="true"> when plotted on a graph, and here we can see that the position ( </span> <i> <span __num="88" __label="true"> x </span> </i> <span __num="89" __label="true"> ) graph has a constant slope, which means that its derivative ( </span> <i> <span __num="90" __label="true"> dx/dt </span> </i> <span __num="91" __label="true"> ) must be constant over time. </span> </p> 
   <p> <span __num="92" __label="true"> Now, suppose the distance traveled by the car increased exponentially over time: that is, it began its travel in slow movements, but covered more additional distance with each passing period in time. We would then see that the derivative of position ( </span> <i> <span __num="93" __label="true"> dx/dt </span> </i> <span __num="94" __label="true"> ), or velocity, would not be constant over time, but would increase: </span> </p> 
   <p> <img src="03345.png"> </p> 
   <p> <span __num="95" __label="true"> The height of points on the velocity graph correspond to the rates-of-change, or slope, of points at corresponding times on the position graph: </span> </p> 
   <p> <img src="03346.png"> </p> 
   <p> <span __num="96" __label="true"> What does this have to do with analog electronic circuits? Well, if we were to have an analog voltage signal represent the car's position (think of a huge potentiometer whose wiper was attached to the car, generating a voltage proportional to the car's position), we could connect a differentiator circuit to this signal and have the circuit continuously </span> <i> <span __num="97" __label="true"> calculate </span> </i> <span __num="98" __label="true"> the car's velocity, displaying the result via a voltmeter connected to the differentiator circuit's output: </span> </p> 
   <p> <img src="03347.png"> </p> 
   <p> <span __num="99" __label="true"> Recall from the last chapter that a differentiator circuit outputs a voltage proportional to the input voltage's </span> <i> <span __num="100" __label="true"> rate-of-change over time </span> </i> <span __num="101" __label="true"> . Thus, if the input voltage is changing over time at a constant </span> <i> <span __num="102" __label="true"> rate </span> </i> <span __num="103" __label="true"> , the output voltage will be at a constant value. If the car moves in such a way that its elapsed distance over time builds up at a steady rate, then that means the car is traveling at a constant velocity, and the differentiator circuit will output a constant voltage proportional to that velocity. If the car's elapsed distance over time changes in a non-steady manner, the differentiator circuit's output will likewise be non-steady, but always at a level representative of the input's rate-of-change over time. </span> </p> 
   <p> <span __num="104" __label="true"> Note that the voltmeter registering velocity (at the output of the differentiator circuit) is connected in "reverse" polarity to the output of the op-amp. This is because the differentiator circuit shown is </span> <i> <span __num="105" __label="true"> inverting </span> </i> <span __num="106" __label="true"> : outputting a negative voltage for a positive input voltage rate-of-change. If we wish to have the voltmeter register a positive value for velocity, it will have to be connected to the op-amp as shown. As impractical as it may be to connect a giant potentiometer to a moving object such as an automobile, the concept should be clear: by electronically performing the calculus function of differentiation on a signal representing position, we obtain a signal representing velocity. </span> </p> 
   <p> <span __num="107" __label="true"> Beginning calculus students learn symbolic techniques for differentiation. However, this requires that the equation describing the original graph be known. For example, calculus students learn how to take a function such as </span> <i> <span __num="108" __label="true"> y = 3x </span> </i> <span __num="109" __label="true"> and find its derivative, </span> <i> <span __num="110" __label="true"> 3 </span> </i> <span __num="111" __label="true"> , simply by manipulating the equation. We may verify the accuracy of this manipulation by comparing the graphs of the two functions: </span> </p> 
   <p> <img src="03353.png"> </p> 
   <p> <span __num="112" __label="true"> Nonlinear functions such as </span> <i> <span __num="113" __label="true"> y = 3x </span> <sup> <span __num="114" __label="true"> 2 </span> </sup> </i> <span __num="115" __label="true"> may also be differentiated by symbolic means. In this case, the derivative of </span> <i> <span __num="116" __label="true"> y = 3x </span> <sup> <span __num="117" __label="true"> 2 </span> </sup> </i> <span __num="118" __label="true"> is </span> <i> <span __num="119" __label="true"> 6x </span> </i> <span __num="120" __label="true"> : </span> </p> 
   <p> <img src="03354.png"> </p> 
   <p> <span __num="121" __label="true"> In real life, though, we often cannot describe the behavior of any physical event by a simple equation like </span> <i> <span __num="122" __label="true"> y = 3x </span> </i> <span __num="123" __label="true"> , and so symbolic differentiation of the type learned by calculus students may be impossible to apply to a physical measurement. If someone wished to determine the derivative of our hypothetical car's position ( </span> <i> <span __num="124" __label="true"> dx/dt </span> </i> <span __num="125" __label="true"> = velocity) by symbolic means, they would first have to obtain an equation describing the car's position over time, based on position measurements taken from a real experiment -- a nearly impossible task unless the car is operated under carefully controlled conditions leading to a very simple position graph. However, an analog differentiator circuit, by exploiting the behavior of a capacitor with respect to voltage, current, and time </span> <i> <span __num="126" __label="true"> i = C(dv/dt) </span> </i> <span __num="127" __label="true"> , naturally differentiates any real signal in relation to time, and would be able to output a signal corresponding to instantaneous velocity ( </span> <i> <span __num="128" __label="true"> dx/dt </span> </i> <span __num="129" __label="true"> ) at any moment. By logging the car's position signal along with the differentiator's output signal using a chart recorder or other data acquisition device, both graphs would naturally present themselves for inspection and analysis. </span> </p> 
   <p> <span __num="130" __label="true"> We may take the principle of differentiation one step further by applying it to the velocity signal using another differentiator circuit. In other words, use it to calculate the rate-of-change of velocity, which we know is the rate-of-change of position. What practical measure would we arrive at if we did this? Think of this in terms of the units we use to measure position and velocity. If we were to measure the car's position from its starting point in miles, then we would probably express its velocity in units of miles </span> <i> <span __num="131" __label="true"> per hour </span> </i> <span __num="132" __label="true"> ( </span> <i> <span __num="133" __label="true"> dx/dt </span> </i> <span __num="134" __label="true"> ). If we were to differentiate the velocity (measured in miles per hour), we would end up with a unit of miles per hour </span> <i> <span __num="135" __label="true"> per hour </span> </i> <span __num="136" __label="true"> . Elementary physics classes teach students about the behavior of falling objects, measuring position in </span> <i> <span __num="137" __label="true"> meters </span> </i> <span __num="138" __label="true"> , velocity in </span> <i> <span __num="139" __label="true"> meters per second </span> </i> <span __num="140" __label="true"> , and change in velocity over time in </span> <i> <span __num="141" __label="true"> meters per second, per second </span> </i> <span __num="142" __label="true"> . This final measure is called </span> <i> <span __num="143" __label="true"> acceleration </span> </i> <span __num="144" __label="true"> : the rate of change of velocity over time: </span> </p> 
   <p> <img src="03348.png"> </p> 
   <p> <span __num="145" __label="true"> The expression </span> <i> <span __num="146"> d </span> <sup> <span __num="147" __label="true"> 2 </span> </sup> <span __num="148" __label="true"> x/dt </span> <sup> <span __num="149" __label="true"> 2 </span> </sup> </i> <span __num="150" __label="true"> is called the </span> <i> <span __num="151" __label="true"> second derivative </span> </i> <span __num="152" __label="true"> of position ( </span> <i> <span __num="153" __label="true"> x </span> </i> <span __num="154" __label="true"> ) with regard to time ( </span> <i> <span __num="155" __label="true"> t </span> </i> <span __num="156" __label="true"> ). If we were to connect a second differentiator circuit to the output of the first, the last voltmeter would register acceleration: </span> </p> 
   <p> <img src="03349.png"> </p> 
   <p> <span __num="157" __label="true"> Deriving velocity from position, and acceleration from velocity, we see the principle of differentiation very clearly illustrated. These are not the only physical measurements related to each other in this way, but they are, perhaps, the most common. Another example of calculus in action is the relationship between liquid volume and liquid flow: </span> </p> 
   <p> <img src="03357.png"> </p> 
   <p> <span __num="158" __label="true"> A "Level Transmitter" device mounted on a water storage tank provides a signal directly proportional to water level in the tank, which -- if the tank is of constant cross-sectional area throughout its height -- directly equates water volume stored. If we were to take this volume signal and differentiate it with respect to time ( </span> <i> <span __num="159" __label="true"> dv/dt </span> </i> <span __num="160" __label="true"> ), we would obtain a signal proportional to the water </span> <i> <span __num="161" __label="true"> flow rate </span> </i> <span __num="162" __label="true"> through the pipe carrying water to the tank. A differentiator circuit connected in such a way as to receive this volume signal would produce an output signal proportional to flow, possibly substituting for a flow-measurement device ("Flow Transmitter") installed in the pipe. </span> </p> 
   <p> <span __num="163" __label="true"> Returning to the car experiment, suppose that our hypothetical car were equipped with a tachogenerator on one of the wheels, producing a voltage signal directly proportional to velocity. We could differentiate the signal to obtain acceleration with one circuit, like this: </span> </p> 
   <p> <img src="03350.png"> </p> 
   <p> <span __num="164" __label="true"> In a sense, the tachogenerator by its very nature differentiates the car's position, generating a voltage proportional to how rapidly the wheel's angular position changes over time. This provides us with a raw signal already representative of velocity, with only a single step of differentiation needed to obtain an acceleration signal. A tachogenerator measuring velocity, of course, is a far more practical example of automobile instrumentation than a giant potentiometer measuring its physical position, but what we gain in practicality we lose in position measurement. No matter how many times we differentiate, we can never infer the car's position from a velocity signal. If the process of differentiation brought us from position to velocity to acceleration, then somehow we need to perform the "reverse" process of differentiation to go from velocity to position. Such a mathematical process does exist, and it is called </span> <i> <span __num="165" __label="true"> integration </span> </i> <span __num="166" __label="true"> . The "integrator" circuit may be used to perform this function: </span> </p> 
   <p> <img src="03351.png"> </p> 
   <p> <span __num="167" __label="true"> Recall from the last chapter that an integrator circuit outputs a voltage whose rate-of-change over time is proportional to the input voltage's magnitude. Thus, given a constant input voltage, the output voltage will </span> <i> <span __num="168" __label="true"> change </span> </i> <span __num="169" __label="true"> at a constant </span> <i> <span __num="170" __label="true"> rate </span> </i> <span __num="171" __label="true"> . If the car travels at a constant velocity (constant voltage input to the integrator circuit from the tachogenerator), then its distance traveled will increase steadily as time progresses, and the integrator will output a steadily changing voltage proportional to that distance. If the car's velocity is not constant, then neither will the rate-of-change over time be of the integrator circuit's output, but the output voltage </span> <i> <span __num="172" __label="true"> will </span> </i> <span __num="173" __label="true"> faithfully represent the amount of distance traveled by the car at any given point in time. </span> </p> 
   <p> <span __num="174" __label="true"> The symbol for integration looks something like a very narrow, cursive letter "S". The equation utilizing this symbol tells us that we are integrating velocity ( </span> <i> <span __num="175" __label="true"> v </span> </i> <span __num="176" __label="true"> ) with respect to time ( </span> <i> <span __num="177" __label="true"> dt </span> </i> <span __num="178" __label="true"> ), and obtaining position ( </span> <i> <span __num="179" __label="true"> x </span> </i> <span __num="180" __label="true"> ) as a result of it. </span> </p> 
   <p> <span __num="181" __label="true"> So, we may express three measures of the car's motion (position, velocity, and acceleration) in terms of velocity ( </span> <i> <span __num="182" __label="true"> v </span> </i> <span __num="183" __label="true"> ) just as easily as we could in terms of position ( </span> <i> <span __num="184" __label="true"> x </span> </i> <span __num="185" __label="true"> ): </span> </p> 
   <p> <img src="03352.png"> </p> 
   <p> <span __num="186" __label="true"> If we had an accelerometer attached to the car, generating a signal proportional to the rate of acceleration or deceleration, we could (hypothetically) obtain a velocity signal with one step of integration, and a position signal with a second step of integration: </span> </p> 
   <p> <img src="03355.png"> </p> 
   <p> <span __num="187" __label="true"> Thus, all three measures of the car's motion (position, velocity, and acceleration) may be expressed in terms of acceleration: </span> </p> 
   <p> <img src="03356.png"> </p> 
   <p> <span __num="188" __label="true"> As you might have suspected, the process of integration may be illustrated in, and applied to, other physical systems as well. Take for example the water storage tank and flow example shown earlier. If flow rate is the derivative of tank volume with respect to time ( </span> <i> <span __num="189" __label="true"> f = dv/dt </span> </i> <span __num="190" __label="true"> ), then we could also say that volume is the integral of flow rate: </span> </p> 
   <p> <img src="03358.png"> </p> 
   <p> <span __num="191" __label="true"> If we were to use a "Flow Transmitter" device to measure water flow, then by integration we could calculate the volume of water accumulated in the tank over time. Although it is theoretically possible to use a capacitive op-amp integrator circuit to derive a volume signal from a flow signal, mechanical and digital electronic "integrator" devices are more practical for reasons of error and drift, and find frequent use in the water treatment and distribution industries. </span> </p> 
   <p> <span __num="192" __label="true"> Just as there are symbolic techniques for differentiation, there are also symbolic techniques for integration, although they tend to be more complex and varied. Applying symbolic integration to a real-world problem like the acceleration of a car, though, is still contingent on the availability of an equation precisely describing the measured signal -- often a difficult or impossible thing to derive from measured data. However, electronic integrator circuits perform this mathematical function continuously, in real time, and for </span> <i> <span __num="193" __label="true"> any </span> </i> <span __num="194" __label="true"> input signal profile, providing a powerful tool for scientists and engineers. </span> </p> 
   <p> <span __num="195" __label="true"> Having said this, there are caveats to the using calculus techniques to derive one type of measurement from another. Differentiation has the undesirable tendency of amplifying "noise" found in the measured variable, since the noise will typically appear as frequencies much higher than the measured variable, and high frequencies by their very nature possess high rates-of-change over time. </span> </p> 
   <p> <span __num="196" __label="true"> To illustrate this problem, suppose we were deriving a measurement of car acceleration from the velocity signal obtained from a tachogenerator with worn brushes or commutator bars. Points of poor contact between brush and commutator will produce momentary "dips" in the tachogenerator's output voltage, and the differentiator circuit connected to it will interpret these dips as very rapid changes in velocity. For a car moving at constant speed -- neither accelerating nor decelerating -- the acceleration signal should be 0 volts, but "noise" in the velocity signal caused by a faulty tachogenerator will cause the differentiated (acceleration) signal to contain "spikes," falsely indicating brief periods of high acceleration and deceleration: </span> </p> 
   <p> <img src="03359.png"> </p> 
   <p> <span __num="197" __label="true"> Noise voltage present in a signal to be differentiated need not be of significant amplitude to cause trouble: all that is required is that the noise profile have fast rise or fall times. In other words, any electrical noise with a high </span> <i> <span __num="198" __label="true"> dv/dt </span> </i> <span __num="199" __label="true"> component will be problematic when differentiated, even if it is of low amplitude. </span> </p> 
   <a name="Artifact, measurement"> </a> 
   <p> <span __num="200" __label="true"> It should be noted that this problem is not an artifact (an idiosyncratic error of the measuring/computing instrument) of the analog circuitry; rather, it is inherent to the process of differentiation. No matter how we might perform the differentiation, "noise" in the velocity signal will invariably corrupt the output signal. Of course, if we were differentiating a signal twice, as we did to obtain both velocity and acceleration from a position signal, the amplified noise signal output by the first differentiator circuit will be amplified again by the next differentiator, thus compounding the problem: </span> </p> 
   <p> <img src="03362.png"> </p> 
   <p> <span __num="201" __label="true"> Integration, on the other hand, does not suffer from this problem, because high-frequency noise tends to be filtered out. One might suppose, then, that we could avoid all trouble by measuring acceleration directly and integrating that signal to obtain velocity; in effect, calculating in "reverse" from the way shown previously: </span> </p> 
   <p> <img src="03360.png"> </p> 
   <p> <span __num="202" __label="true"> Unfortunately, following this methodology might lead us into other difficulties, the greatest being a common artifact of analog integrator circuits known as </span> <i> <span __num="203" __label="true"> drift </span> </i> <span __num="204" __label="true"> . All op-amps have some amount of input bias current, and this current will tend to cause a charge to accumulate on the capacitor in addition to whatever charge accumulates as a result of the input voltage signal. In other words, all analog integrator circuits suffer from the tendency of having their output voltage "drift" or "creep" even when there is absolutely no voltage input, accumulating error over time as a result. Also, imperfect capacitors will tend to lose their stored charge over time due to internal resistance, resulting in "drift" toward zero output voltage. These problems </span> <i> <span __num="205" __label="true"> are </span> </i> <span __num="206" __label="true"> artifacts of the analog circuitry, and may be eliminated through the use of digital computation. </span> </p> 
   <p> <span __num="207" __label="true"> Circuit artifacts notwithstanding, possible errors may result from the integration of one measurement (such as acceleration) to obtain another (such as velocity) simply because of the way integration works. If the "zero" calibration point of the raw signal sensor is not perfect, it will output a slight positive or negative signal even in conditions when it should output nothing. Consider a car with an imperfectly calibrated accelerometer, or one that is influenced by gravity to detect a slight acceleration unrelated to car motion. Even with a perfect integrating computer, this sensor error will cause the integrator to accumulate error, resulting in an output signal indicating a change of velocity when the car is neither accelerating nor decelerating. </span> </p> 
   <p> <img src="03361.png"> </p> 
   <p> <span __num="208" __label="true"> As with differentiation, this error will also compound itself if the integrated signal is passed on to another integrator circuit, since the "drifting" output of the first integrator will very soon present a significant positive or negative signal for the next integrator to integrate. Therefore, care should be taken when integrating sensor signals: if the "zero" adjustment of the sensor is not </span> <i> <span __num="209" __label="true"> perfect </span> </i> <span __num="210" __label="true"> , the integrated result will drift, even if the integrator circuit itself is perfect. Again, it should be clearly understood that integrator errors such as these are fundamentally errors with the integrator and/or sensor devices themselves, and not inherent to the principle of signal integration. By contrast, differentiator errors (amplification of high-frequency noise) are inherent to the process of differentiation and are impossible to eliminate without completely eliminating input signal noise. </span> </p> 
   <hr> 
   <h2> <u> <span __num="211" __label="true"> Measurement circuits -- PENDING </span> </u> </h2> 
   <p> </p> 
   <hr> 
   <h2> <u> <span __num="212" __label="true"> Control circuits -- PENDING </span> </u> </h2> 
   <p> </p> 
   <hr> 
   <h2> <u> <span __num="213" __label="true"> Contributors </span> </u> </h2> 
   <p> <span __num="214" __label="true"> Contributors to this chapter are listed in chronological order of their contributions, from most recent to first. See Appendix 2 (Contributor List) for dates and contact information. </span> </p> 
   <p> <b> <span __num="215" __label="true"> Warren Young </span> </b> <span __num="216" __label="true"> (August 2002): Initial idea and text for "Power supply circuits" section. Paragraphs modified by Tony Kuphaldt (changes in vocabulary, plus inclusion of additional concepts). </span> </p> 
   <br> 
   <br> 
   <hr> 
   <p> <i> <span __num="217"> Lessons In Electric Circuits </span> </i> <span __num="218"> copyright (C) 2000-2003 Tony R. Kuphaldt, under the terms and conditions of the </span> <a href="SEMI_A3.html"> <span __num="219"> Design Science License </span> </a> <span __num="220"> . </span> </p> 
   <a href="SEMI_8.html"> <img alt="Previous" src="previous.jpg"> </a> 
   <a href="index.html"> <img alt="Contents" src="contents.jpg"> </a> 
   <a href="SEMI_10.html"> <img alt="Next" src="next.jpg"> </a> 
  </text> 
 </body>
</html>