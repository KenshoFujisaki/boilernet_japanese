<html>
 <body>
  <text encoding="iso-8859-1" id="http://www.php-mag.net/itr/online_artikel/psecom,id,637,nodeid,114.html" title=" International PHP Magazine - Cutting-Edge Technologies for Web Professionals                                                                                                                                                                                                 - Online Articles                                                                                                                                                                                            ">
   <div align="center">
    <table background="/itr/tmp_magazine/gfx/header/background/internationalphpmagazine.gif" border="0" cellpadding="0" cellspacing="0" height="94" width="980">
     <tbody>
      <tr>
       <td height="94" width="480">
        <a href="http://www.phpmag.net/">
         <img border="0" height="70" hspace="20" src="/itr/tmp_magazine/gfx/header/logo/internationalphpmagazine.gif" width="304"/>
        </a>
       </td>
       <td height="94" width="500">
       </td>
      </tr>
     </tbody>
    </table>
    <img height="6" src="/itr/tmp_magazine/gfx/header/bottom/internationalphpmagazine.gif" width="980"/>
    <br/>
    <img height="10" src="/itr/tmp_magazine/gfx/fake.gif" width="980"/>
    <br/>
    <table border="0" cellpadding="0" cellspacing="0" height="31" width="980">
     <tbody>
      <tr>
       <td height="31">
        <a href="http://www.phpmag.net/">
         <img alt="Magazine" border="0" height="31" id="susnav_image_magazine" onmouseover="javascript: susChange('magazine'); return true;" src="/itr/tmp_magazine/gfx/navigation/main/english/magazine/off.gif"/>
        </a>
       </td>
       <td height="31" width="1">
        <img height="31" src="/itr/tmp_magazine/gfx/navigation/main/border_top.gif" width="1"/>
       </td>
       <td height="31">
        <a href="http://www.phpmag.net/phppdf/">
         <img alt="PDF Issue" border="0" height="31" id="susnav_image_pdfissue" onmouseover="javascript: susChange('pdfissue'); return true;" src="/itr/tmp_magazine/gfx/navigation/main/english/pdfissue/off.gif"/>
        </a>
       </td>
       <td height="31" width="1">
        <img height="31" src="/itr/tmp_magazine/gfx/navigation/main/border_top.gif" width="1"/>
       </td>
       <td height="31">
        <a href="http://www.phpconference.com">
         <img alt="Conference" border="0" height="31" id="susnav_image_conference" onmouseover="javascript: susChange('conference'); return true;" src="/itr/tmp_magazine/gfx/navigation/main/english/conferences/off.gif"/>
        </a>
       </td>
       <td height="31" width="1">
        <img height="31" src="/itr/tmp_magazine/gfx/navigation/main/border_top.gif" width="1"/>
       </td>
       <td height="31">
        <a href="http://forum.php-mag.net/">
         <img alt="Forum" border="0" height="31" id="susnav_image_forum" onmouseover="javascript: susChange('forum'); return true;" src="/itr/tmp_magazine/gfx/navigation/main/english/forum/off.gif"/>
        </a>
       </td>
       <td align="right" background="/itr/tmp_magazine/gfx/navigation/main/border_top.gif" height="31" valign="middle" width="100%">
       </td>
       <td height="31" width="4">
        <img height="31" src="/itr/tmp_magazine/gfx/navigation/main/border_top.gif" width="4"/>
       </td>
       <td height="31">
        <a href="http://entwickler.com/sus/psecom,id,3,nodeid,3,p,,_language,uk.html">
         <img alt="Software &amp; Support Verlag" border="0" height="31" id="susnav_image_publisher" onmouseover="javascript: susChange('publisher'); return true;" src="/itr/tmp_magazine/gfx/navigation/main/english/publisher/off.gif"/>
        </a>
       </td>
      </tr>
     </tbody>
    </table>
    <table border="0" cellpadding="0" cellspacing="0" height="25" width="980">
     <tbody>
      <tr>
       <td bgcolor="#4A536A" height="24" width="1">
        <img height="24" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#687EA8" height="24" width="978">
        <div class="navigation_main" id="susnav_text_magazine">
         <a class="navigation_main" href="http://www.phpmag.net/" style="background-color: #4A536A;">
          <b>
           <span __boilernet_label="0" __num="0">
            International PHP Magazine
           </span>
          </b>
         </a>
        </div>
        <div class="navigation_main" id="susnav_text_pdfissue">
         <a class="navigation_main" href="http://www.phpmag.net/itr/service/show.php3?id=129&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
          <span __boilernet_label="0" __num="1">
           Press Release
          </span>
         </a>
         <span __boilernet_label="0" __num="2">
          |
         </span>
         <a class="navigation_main" href="http://www.phpmag.net/phppdf/">
          <b>
           <span __boilernet_label="1">
            Click here to download the monthly PHP Magazine PDF Issue
           </span>
          </b>
         </a>
         <span __boilernet_label="0" __num="4">
          |
         </span>
         <a class="navigation_main" href="http://www.phpmag.net/itr/service/show.php3?id=138&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
          <span __boilernet_label="0" __num="5">
           Price Information
          </span>
         </a>
        </div>
        <div class="navigation_main" id="susnav_text_conference">
         <a class="navigation_main" href="http://www.phpconference.com">
          <span __boilernet_label="0" __num="6">
           International PHP Conference
          </span>
         </a>
        </div>
        <div class="navigation_main" id="susnav_text_forum">
         <a class="navigation_main" href="http://forum.php-mag.net/">
          <span __boilernet_label="0" __num="7">
           Topics Overview
          </span>
         </a>
         <span __boilernet_label="0" __num="8">
          |
         </span>
         <a class="navigation_main" href="http://forum.php-mag.net/index.php?t=login&amp;rid=">
          <span __boilernet_label="0" __num="9">
           Login
          </span>
         </a>
         <span __boilernet_label="0" __num="10">
          |
         </span>
         <a class="navigation_main" href="http://forum.php-mag.net/index.php?t=register&amp;rid=">
          <span __boilernet_label="0" __num="11">
           Register
          </span>
         </a>
         <span __boilernet_label="0" __num="12">
          |
         </span>
         <a class="navigation_main" href="http://forum.php-mag.net/index.php?t=help_index&amp;rid=">
          <span __boilernet_label="0" __num="13">
           Help &amp; Forum-Tour
          </span>
         </a>
        </div>
        <div class="navigation_main" id="susnav_text_publisher">
         <b>
          <span __boilernet_label="1">
           Company:
          </span>
         </b>
         <a class="navigation_main" href="http://entwickler.com/sus/psecom,id,4,nodeid,4,p,,_language,uk.html">
          <span __boilernet_label="0" __num="15">
           Magazines
          </span>
         </a>
         <span __boilernet_label="0" __num="16">
          |
         </span>
         <a class="navigation_main" href="http://entwickler.com/sus/psecom,id,6,nodeid,6,p,,_language,uk.html">
          <span __boilernet_label="0" __num="17">
           Books
          </span>
         </a>
         <span __boilernet_label="0" __num="18">
          |
         </span>
         <a class="navigation_main" href="http://entwickler.com/sus/psecom,id,7,nodeid,7,p,,_language,uk.html">
          <span __boilernet_label="0" __num="19">
           Online Services
          </span>
         </a>
         <span __boilernet_label="0" __num="20">
          |
         </span>
         <a class="navigation_main" href="http://entwickler.com/sus/psecom,id,5,nodeid,5,p,,_language,uk.html">
          <span __boilernet_label="0" __num="21">
           Conferences &amp; Trainings
          </span>
         </a>
        </div>
       </td>
       <td bgcolor="#4A536A" height="24" width="1">
        <img height="24" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
      </tr>
      <tr>
       <td bgcolor="#4A536A" colspan="3" height="1" width="980">
        <img height="1" src="/itr/tmp_magazine/gfx/fake.gif" width="980"/>
       </td>
      </tr>
     </tbody>
    </table>
    <table border="0" cellpadding="0" cellspacing="0" width="980">
     <tbody>
      <tr>
       <td bgcolor="#4A536A" width="1">
        <img height="100%" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#EFEFEF" valign="top" width="150">
        <img height="19" src="/itr/tmp_magazine/gfx/fake.gif" width="150"/>
        <br/>
        <img height="16" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/readersservice.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <a class="navigation_sub" href="https://www.entwickler.com/ssl/pme_abo.php?check=1">
          <b>
           <span __boilernet_label="0" __num="23">
            Subscribe here
           </span>
          </b>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/service/psecom,id,52,nodeid,116.html">
          <span __boilernet_label="0" __num="24">
           Subscription Service
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/service/psecom,id,147,nodeid,116.html">
          <span __boilernet_label="0" __num="25">
           FAQ - Print &amp; Digital Edition
          </span>
         </a>
         <br/>
        </div>
        <img height="16" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/magazine.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <a class="navigation_sub" href="/itr/psecom,id,112,nodeid,112.html">
          <span __boilernet_label="0" __num="26">
           Issues
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/psecom,id,113,nodeid,113.html">
          <span __boilernet_label="0" __num="27">
           News
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/psecom,id,207,nodeid,207.html">
          <span __boilernet_label="0" __num="28">
           Columns
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/psecom,id,114,nodeid,114.html">
          <span __boilernet_label="0" __num="29">
           Online Articles
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/psecom,id,115,nodeid,115.html">
          <span __boilernet_label="0" __num="30">
           Book Reviews
          </span>
         </a>
         <br/>
        </div>
        <img height="16" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/archive.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <a class="navigation_sub" href="/itr/psecom,id,113,nodeid,113.html">
          <span __boilernet_label="0" __num="31">
           News
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/psecom,id,114,nodeid,114.html">
          <span __boilernet_label="0" __num="32">
           Online Articles
          </span>
         </a>
         <br/>
        </div>
        <img height="16" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/editorialstaff.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <a class="navigation_sub" href="https://www.entwickler.com/ssl/php_forms/pme_writefor.php?check=1">
          <span __boilernet_label="1">
           Write for the PHP Magazine
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="https://www.entwickler.com/ssl/php_forms/pme_general.php?check=1">
          <span __boilernet_label="0" __num="34">
           Contact
          </span>
         </a>
         <br/>
         <a class="navigation_sub" href="/itr/service/show.php3?id=128&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
          <span __boilernet_label="0" __num="35">
           Imprint
          </span>
         </a>
         <br/>
        </div>
        <img height="16" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/advertising.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <a class="navigation_sub" href="https://www.entwickler.com/ssl/php_forms/pme_advertise.php?check=1.com">
          <span __boilernet_label="1">
           Advertise with the
          </span>
          <br/>
          <span __boilernet_label="1">
           PHP Magazine
          </span>
         </a>
         <br/>
        </div>
        <div align="center">
         <a href="http://www.hosteurope.de" target="_blank">
          <img border="0" height="56" src="/itr/magazine/en/images/hosteuropebanner.gif" width="146"/>
         </a>
        </div>
       </td>
       <td bgcolor="#4A536A" width="1">
        <img height="100%" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#FFFFFF" valign="top" width="676">
        <table border="0" cellpadding="15" cellspacing="0" width="676">
         <tbody>
          <tr>
           <td valign="top">
            <div class="fuss">
             <span __boilernet_label="1">
              Issue: 06.2004
             </span>
            </div>
            <div class="vpheadoa">
             <span __boilernet_label="1">
              Guru Speak
             </span>
            </div>
            <div class="vpheadsuboa">
             <span __boilernet_label="1">
              How To Avoid "Page Has Expired" Warnings
             </span>
            </div>
            <div class="vpfliessoa">
             <i>
              <span __boilernet_label="1">
               by Chris Shiflett
              </span>
             </i>
            </div>
            <div class="vpheadsuboa">
             <span __boilernet_label="1">
              Welcome to the first edition of
             </span>
             <b>
              <span __boilernet_label="1">
               Guru Speak
              </span>
             </b>
             <span __boilernet_label="1">
              , a new column that I'll be bringing to you every other month right here in
             </span>
             <i>
              <span __boilernet_label="1">
               PHP Magazine
              </span>
             </i>
             <span __boilernet_label="1">
              . The topics that I'll be writing about will vary, but one recurring topic that I want to focus on is that of providing thorough answers to frequently asked questions. This is a topic that is appropriate for PHP developers of all skill levels, and while some questions are not likely to concern experienced developers, the answers will hopefully lend new insight and provide a deeper understanding to everyone.
             </span>
            </div>
            <div class="vpfliessoa">
             <span __boilernet_label="1">
              As one of the most active contributors to the PHP-General mailing list for the last few years, I have answered many questions, and it is pretty easy to determine which topics trouble developers the most. While part of the reason for the frequency with which some questions are asked is that people don't search the archives or the Web prior, there are also some questions for which there is no sufficiently complete answer available, because no one feels the need to provide one. In other cases, there are so many RTFM responses that search results become very diluted, making the real answers hard to find.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              It is my sincere hope that this column can begin to address these types of problems, and I would like to thank the fine folks at
             </span>
             <i>
              <span __boilernet_label="1">
               PHP Magazine
              </span>
             </i>
             <span __boilernet_label="1">
              for agreeing to make my answers freely available on the Web. I am very interested in feedback, so please feel free to leave some on our forums anytime (link provided in the
             </span>
             <b>
              <span __boilernet_label="1">
               Links &amp; Literature
              </span>
             </b>
             <span __boilernet_label="1">
              section) - perhaps you have new insight to add to one of my answers, a correction to make, a suggestion for the column, or a question of your own.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              I hope you enjoy
             </span>
             <b>
              <span __boilernet_label="1">
               Guru Speak
              </span>
             </b>
             <span __boilernet_label="1">
              .
             </span>
             <p>
             </p>
             <b>
              <span __boilernet_label="1">
               How Can I Avoid "Page Has Expired" Warnings?
              </span>
             </b>
             <br/>
             <span __boilernet_label="1">
              One problem with organizing questions and answers, and in fact a big reason why searching the archives can be difficult for a beginner, is that the same question can be posed in so many different ways. This is especially true when the same problem arises under different circumstances, or when differences in browser behaviour can cause the same error to be reported in numerous ways.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              A good example of this is the warning message declaring that a page has expired. Not only are there two different causes for this warning, but the warning message itself also varies from browser to browser, even under the same circumstances.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              The warning is a result of the user utilizing the browser's history mechanism to access a previously viewed page, usually by clicking the back button or refreshing. One cause of the warning is that the page has expired from the browser's cache, so it wants to inform the user that it must request the page again, just in case this is not something the user wants.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              Luckily, you have some control over what a browser caches. In fact, as long as you don't forbid it, each page that the user visits is cached locally by the browser. There are exceptions to this, such as when the user specifically configures the browser to prevent caching, or when the user sets the maximum cache size too small. These exceptions aren't a big concern, because the user probably does this intentionally and understands the consequences, or the user will have an adverse experience on any site and likely realize that the problem is a local one.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              PHP, by default, does not forbid caching. When you request a simple PHP script, no caching headers are returned, so no Web agent's caching behaviour is modified. You can test this by using the LiveHTTPHeaders extension for Firefox and requesting a script such as the following:
             </span>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               &lt;?php
              </span>
              <br/>
              <span __boilernet_label="1">
               echo '&lt;p&gt;Guru Speak!&lt;/p&gt;';
              </span>
              <br/>
              <span __boilernet_label="0" __num="64">
               ?&gt;
              </span>
             </i>
             <p>
             </p>
             <span __boilernet_label="1">
              Of course, no PHP application has scripts quite this simplistic. In fact, most PHP applications use sessions, and this is where caching becomes a problem. Add
             </span>
             <i>
              <span __boilernet_label="1">
               session_start()
              </span>
             </i>
             <span __boilernet_label="1">
              to the previous example, so that it becomes the following:
             </span>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               &lt;?php
              </span>
              <br/>
              <span __boilernet_label="1">
               session_start();
              </span>
              <br/>
              <span __boilernet_label="1">
               echo '&lt;p&gt;Guru Speak!&lt;/p&gt;';
              </span>
              <br/>
              <span __boilernet_label="0" __num="71">
               ?&gt;
              </span>
             </i>
             <p>
             </p>
             <span __boilernet_label="1">
              When requesting this new script, three new HTTP headers are included in the response:
             </span>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               Expires: Thu, 19 Nov 1981 08:52:00 GMT
              </span>
              <br/>
              <span __boilernet_label="1">
               Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
              </span>
              <br/>
              <span __boilernet_label="1">
               Pragma: no-cache
              </span>
             </i>
             <p>
             </p>
             <span __boilernet_label="1">
              These new headers eliminate caching, and this is how a stateful PHP application can so easily encounter "Page Has Expired" warnings.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              What can be done? Before you ask this question, it is good to consider the reasoning behind this behaviour. When you use sessions, it is possible that you customize each page, and these customized pages might contain sensitive information. If an intermediary caches this sensitive information, it might be returned to the wrong user. Consider the series of events illustrated in Figure 1.
             </span>
             <p>
             </p>
             <center>
              <img src="/itr/online_artikel/pspic/bild//66/import417660f488b54.tif &lt;&lt;"/>
              <br/>
              <span __boilernet_label="1">
               Fig. 1: Caching can potentially cause problems.
              </span>
             </center>
             <br/>
             <br/>
             <span __boilernet_label="1">
              This is obviously unwanted. Luckily, the
             </span>
             <i>
              <span __boilernet_label="1">
               Cache-Control
              </span>
             </i>
             <span __boilernet_label="1">
              header gives us a way to distinguish between public caches (such as an intermediary) and private caches (such as the browser). The following header allows caching only in private caches:
             </span>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               Cache-Control: private
              </span>
             </i>
             <p>
             </p>
             <span __boilernet_label="1">
              You can use
             </span>
             <i>
              <span __boilernet_label="1">
               header()
              </span>
             </i>
             <span __boilernet_label="1">
              to set this yourself, but a better approach is to change the
             </span>
             <i>
              <span __boilernet_label="1">
               session.cache_limiter
              </span>
             </i>
             <span __boilernet_label="1">
              PHP configuration directive, because this also eliminates the
             </span>
             <i>
              <span __boilernet_label="1">
               Pragma
              </span>
             </i>
             <span __boilernet_label="1">
              header. If you don't have access to
             </span>
             <i>
              <span __boilernet_label="1">
               php.ini
              </span>
             </i>
             <span __boilernet_label="1">
              , you can set this in your scripts with the following:
             </span>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               ini_set('session.cache_limiter', 'private');
              </span>
             </i>
             <p>
             </p>
             <span __boilernet_label="1">
              By default,
             </span>
             <i>
              <span __boilernet_label="1">
               session.cache_limiter
              </span>
             </i>
             <span __boilernet_label="1">
              is set to
             </span>
             <i>
              <span __boilernet_label="1">
               nocache
              </span>
             </i>
             <span __boilernet_label="1">
              . With it set to
             </span>
             <i>
              <span __boilernet_label="1">
               private
              </span>
             </i>
             <span __boilernet_label="1">
              , the following
             </span>
             <i>
              <span __boilernet_label="1">
               Cache-Control
              </span>
             </i>
             <span __boilernet_label="1">
              header is sent:
             </span>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               Cache-Control: private, max-age=10800,&lt;br&gt;&lt;/br&gt; pre-check=10800
              </span>
             </i>
             <p>
             </p>
             <span __boilernet_label="1">
              The
             </span>
             <i>
              <span __boilernet_label="1">
               max-age
              </span>
             </i>
             <span __boilernet_label="1">
              and
             </span>
             <i>
              <span __boilernet_label="1">
               pre-check
              </span>
             </i>
             <span __boilernet_label="1">
              directives are given in seconds, and these can be used to limit the amount of time a page is cached. The
             </span>
             <i>
              <span __boilernet_label="1">
               session.cache_expire
              </span>
             </i>
             <span __boilernet_label="1">
              PHP configuration directive, given in minutes, controls these values. The default is 180 minutes (10800 seconds).
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              Now that you can allow your pages to be cached, there is still one other scenario that can cause a "Page Has Expired" warning. When a page in history (including the current page) is requested with the POST request method, the browser will warn the user before requesting the page again, because a POST request might perform some action. Most browsers explain this in the warning, and Firefox's warning is displayed in Figure 2. Internet Explorer still gives a "Page Has Expired" warning but goes on to explain the situation further:
             </span>
             <br/>
             <br/>
             <i>
              <span __boilernet_label="1">
               "The page you requested was created using information you submitted in a form. This page is no longer available. As a security precaution, Internet Explorer does not automatically resubmit your information for you."
              </span>
             </i>
             <br/>
             <p>
             </p>
             <center>
              <img src="/itr/online_artikel/pspic/bild//66/import417660f499cc3.tif &lt;&lt;"/>
              <br/>
              <span __boilernet_label="1">
               Fig. 2: Firefox warns the user before resubmitting a POST request.
              </span>
             </center>
             <br/>
             <p>
             </p>
             <b>
              <span __boilernet_label="1">
               Note
              </span>
             </b>
             <br/>
             <span __boilernet_label="1">
              As a PHP developer, you might be thinking that the request method doesn't really matter to you. You can still perform the exact same actions; the only difference is that you use
             </span>
             <i>
              <span __boilernet_label="1">
               $_GET
              </span>
             </i>
             <span __boilernet_label="1">
              instead of
             </span>
             <i>
              <span __boilernet_label="1">
               $_POST
              </span>
             </i>
             <span __boilernet_label="1">
              in your programming logic. While this is true, it violates the HTTP specification. Section 9.1.1 of RFC 2616 has the following to say:
             </span>
             <br/>
             <i>
              <span __boilernet_label="1">
               "In particular, the convention has been established that the GET and HEAD methods SHOULD NOT have the significance of taking an action other than retrieval. These methods ought to be considered "safe". This allows user agents to represent other methods, such as POST, PUT and DELETE, in a special way, so that the user is made aware of the fact that a possibly unsafe action is being requested."
              </span>
             </i>
             <br/>
             <span __boilernet_label="1">
              This is exactly why browsers treat responses to POST requests differently than responses to GET requests.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              Luckily, there is an elegant solution to this problem. You can still use the POST request method in your forms, but you hide the target page from the browser's history mechanism. The trick is to have the target page (that processes the form) send a
             </span>
             <i>
              <span __boilernet_label="1">
               Location
              </span>
             </i>
             <span __boilernet_label="1">
              header, which changes the response code from
             </span>
             <i>
              <span __boilernet_label="1">
               200
              </span>
             </i>
             <span __boilernet_label="1">
              to
             </span>
             <i>
              <span __boilernet_label="1">
               302
              </span>
             </i>
             <span __boilernet_label="1">
              and transparently redirects the user to another page. To illustrate this, consider three PHP scripts:
             </span>
             <i>
              <span __boilernet_label="1">
               form.php
              </span>
             </i>
             <span __boilernet_label="1">
              ,
             </span>
             <i>
              <span __boilernet_label="1">
               process.php
              </span>
             </i>
             <span __boilernet_label="1">
              and
             </span>
             <i>
              <span __boilernet_label="1">
               end.php
              </span>
             </i>
             <span __boilernet_label="1">
              , shown in Listings 1, 2, and 3, respectively.
             </span>
             <br/>
             <br/>
             <b>
              <span __boilernet_label="1">
               Listing 1: form.php
              </span>
             </b>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               &lt;form action="process.php" method="post"&gt;
              </span>
              <br/>
              <span __boilernet_label="1">
               &lt;!-- Rest of form here --&gt;
              </span>
              <br/>
              <span __boilernet_label="1">
               &lt;/form&gt;
              </span>
             </i>
             <p>
             </p>
             <br/>
             <b>
              <span __boilernet_label="1">
               Listing 2: process.php:
              </span>
             </b>
             <p>
             </p>
             <i>
              <span __boilernet_label="1">
               &lt;?php
              </span>
              <br/>
              <span __boilernet_label="1">
               header('Location: http://example.org/end.php');
              </span>
              <br/>
              <span __boilernet_label="1">
               /* Form processing here */
              </span>
              <br/>
              <span __boilernet_label="0" __num="142">
               ?&gt;
              </span>
             </i>
             <p>
             </p>
             <br/>
             <b>
              <span __boilernet_label="1">
               Listing 3: end.php
              </span>
             </b>
             <p>
             </p>
             <i>
              <span __boilernet_label="0" __num="144">
               &lt;p&gt;Thanks!&lt;/p&gt;
              </span>
             </i>
             <p>
             </p>
             <br/>
             <span __boilernet_label="1">
              When a user submits the form, the browser requests
             </span>
             <i>
              <span __boilernet_label="1">
               process.php
              </span>
             </i>
             <span __boilernet_label="1">
              using a POST request, and all of the form data is included. The response it receives is a
             </span>
             <i>
              <span __boilernet_label="1">
               302
              </span>
             </i>
             <span __boilernet_label="1">
              response, and the
             </span>
             <i>
              <span __boilernet_label="1">
               Location
              </span>
             </i>
             <span __boilernet_label="1">
              header indicates the URL it needs to request to get the page it seeks. After making the request for
             </span>
             <i>
              <span __boilernet_label="1">
               end.php
              </span>
             </i>
             <span __boilernet_label="1">
              , a message of thanks is displayed in the browser. If the user clicks the back button, the original form is displayed; the intermediate processing script is hidden from the browser's history.
             </span>
             <p>
             </p>
             <b>
              <span __boilernet_label="1">
               Note
              </span>
             </b>
             <br/>
             <span __boilernet_label="1">
              The HTTP specification requires that the
             </span>
             <i>
              <span __boilernet_label="1">
               Location
              </span>
             </i>
             <span __boilernet_label="1">
              header indicate an absolute URL (such as
             </span>
             <i>
              <span __boilernet_label="1">
               http://example.org/script.php
              </span>
             </i>
             <span __boilernet_label="1">
              ). See section 14.30 of RFC 2616 for more information.
             </span>
             <p>
             </p>
             <b>
              <span __boilernet_label="1">
               Recap
              </span>
             </b>
             <br/>
             <span __boilernet_label="1">
              To avoid "Page Has Expired" warnings, set session.cache_limiter to
             </span>
             <i>
              <span __boilernet_label="1">
               private
              </span>
             </i>
             <span __boilernet_label="1">
              , and make sure that any form using the POST method submits to an intermediate processing page that redirects the user to a different URL.
             </span>
             <br/>
             <br/>
             <span __boilernet_label="1">
              I hope you can now avoid these unwanted warnings, and I also hope that I have helped clear up some of the mystery surrounding them. That's all for
             </span>
             <b>
              <span __boilernet_label="1">
               Guru Speak
              </span>
             </b>
             <span __boilernet_label="1">
              . See you next time.
             </span>
             <br/>
             <br/>
             <i>
              <span __boilernet_label="1">
               Chris Shiflett (
              </span>
              <a href="http://shiflett.org/" target="_blank">
               <span __boilernet_label="1">
                http://shiflett.org/
               </span>
              </a>
              <span __boilernet_label="1">
               ) is a frequent contributor to the PHP community and one of the leading security experts in the field. His solutions to security problems are often used as points of reference, and these solutions are showcased in his talks at conferences such as
              </span>
              <a href="http://www.apachecon.com/" target="_blank">
               <span __boilernet_label="1">
                ApacheCon
               </span>
              </a>
              <span __boilernet_label="1">
               and the
              </span>
              <a href="http://conferences.oreillynet.com/oscon/" target="_blank">
               <span __boilernet_label="1">
                O'Reilly Open Source Convention
               </span>
              </a>
              <span __boilernet_label="1">
               , and his articles in publications such as PHP Magazine and
              </span>
              <a href="http://www.phparch.com/" target="_blank">
               <span __boilernet_label="1">
                php|architect
               </span>
              </a>
              <span __boilernet_label="1">
               .
              </span>
              <br/>
              <span __boilernet_label="1">
               Chris is the author of the
              </span>
              <a href="http://shiflett.org/books/http-developers-handbook" target="_blank">
               <span __boilernet_label="1">
                HTTP Developer's Handbook
               </span>
              </a>
              <span __boilernet_label="1">
               (Sams), a coauthor of the
              </span>
              <a href="http://shiflett.org/books/zend-php-certification-study-guide" target="_blank">
               <span __boilernet_label="1">
                Zend PHP Certification Study Guide
               </span>
              </a>
              <span __boilernet_label="1">
               (Sams), and is currently writing
              </span>
              <a href="http://shiflett.org/books/php-security" target="_blank">
               <span __boilernet_label="1">
                PHP Security
               </span>
              </a>
              <span __boilernet_label="1">
               (O'Reilly). As a member of the
              </span>
              <a href="http://www.zend.com/store/education/certification/advisory-board.php" target="_blank">
               <span __boilernet_label="1">
                Zend PHP Education Advisory Board
               </span>
              </a>
              <span __boilernet_label="1">
               , he is also one of the authors of the
              </span>
              <a href="http://www.zend.com/store/education/certification/zend-php-certification.php" target="_blank">
               <span __boilernet_label="1">
                Zend PHP Certification
               </span>
              </a>
              <span __boilernet_label="1">
               . In his spare time, he is leading an effort to create a PHP community site at
              </span>
              <a href="http://phpcommunity.org/" target="_blank">
               <span __boilernet_label="1">
                PHPCommunity.org
               </span>
              </a>
              <span __boilernet_label="1">
               . You can contact him at
              </span>
              <a href="mailto:shiflett@php.net">
               <span __boilernet_label="1">
                shiflett@php.net
               </span>
              </a>
              <span __boilernet_label="1">
               or visit his Web site at
              </span>
              <a href="http://shiflett.org/" target="_blank">
               <span __boilernet_label="1">
                http://shiflett.org/
               </span>
              </a>
              <span __boilernet_label="1">
               .
              </span>
             </i>
             <br/>
             <p>
             </p>
             <b>
              <span __boilernet_label="1">
               Links and Literature
              </span>
             </b>
             <br/>
             <br/>
             <span __boilernet_label="1">
              PHP Magazine Forums:
             </span>
             <a href="http://forum.php-mag.net/" target="_blank">
              <span __boilernet_label="0" __num="195">
               http://forum.php-mag.net/
              </span>
             </a>
             <br/>
             <span __boilernet_label="1">
              LiveHTTPHeaders Extension for Firefox:
             </span>
             <a href="http://livehttpheaders.mozdev.org/" target="_blank">
              <span __boilernet_label="0" __num="197">
               http://livehttpheaders.mozdev.org/
              </span>
             </a>
             <br/>
             <span __boilernet_label="1">
              Michael Radwin's Caching Talk:
             </span>
             <a href="http://public.yahoo.com/~radwin/talks/http-caching.htm" target="_blank">
              <span __boilernet_label="0" __num="199">
               http://public.yahoo.com/~radwin/talks/http-caching.htm
              </span>
             </a>
            </div>
            <div class="vpfliessoa">
             <b>
             </b>
             <br/>
             <br/>
             <br/>
            </div>
            <table border="0" cellpadding="0" cellspacing="0">
             <tbody>
              <tr>
               <td width="50">
                <a href="javascript:history.back()">
                 <img alt="back" border="0" height="25" src="/itr/imgs/zurueck.gif" width="25"/>
                 <br/>
                 <div class="fuss">
                  <span __boilernet_label="0" __num="200">
                   back
                  </span>
                 </div>
                </a>
               </td>
               <td align="center" width="50">
                <a href="#top">
                 <img alt="top" border="0" src="/itr/imgs/top.gif"/>
                 <br/>
                 <div class="fuss">
                  <span __boilernet_label="0" __num="201">
                   top
                  </span>
                 </div>
                </a>
               </td>
               <td align="center" width="60">
                <a href="/itr/online_artikel/psecom,_psframe,,linkobject,print,,nocontainer,1_,id,637,nodeid,114.html">
                 <img alt="print" border="0" height="25" src="/itr/imgs/drucken.gif" width="25"/>
                 <br/>
                 <div class="fuss">
                  <span __boilernet_label="0" __num="202">
                   print
                  </span>
                 </div>
                </a>
               </td>
               <td align="center" width="70">
                <a href="/itr/online_artikel/psecom,_psframe,,linkobject,mail_,id,637,nodeid,114.html">
                 <img alt="recommend" border="0" height="25" src="/itr/imgs/email.gif" width="25"/>
                 <br/>
                 <div class="fuss">
                  <span __boilernet_label="0" __num="203">
                   recommend
                  </span>
                 </div>
                </a>
               </td>
              </tr>
             </tbody>
            </table>
            <br/>
            <br/>
            <br/>
            <br/>
           </td>
          </tr>
         </tbody>
        </table>
       </td>
       <td bgcolor="#4A536A" width="1">
        <img height="100%" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#EFEFEF" valign="top" width="150">
        <img height="10" src="/itr/tmp_magazine/gfx/fake.gif" width="150"/>
        <br/>
        <div align="center">
         <a href="/itr/service/show.php3?id=131&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
          <img alt="Software &amp; Support Verlag - Global Alliance Program!" border="0" src="/itr/tmp_magazine/gfx/navigation/sub/sonstiges/internationalphpmagazine/wearelookingforyou.jpg" width="130"/>
         </a>
         <br/>
        </div>
        <br/>
        <img height="16" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/uptodate.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <a class="navigation_sub" href="/itr/service/show.php3?id=112&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
          <span __boilernet_label="1">
           The Results of the
          </span>
          <br/>
          <span __boilernet_label="1">
           Reader's Survey
          </span>
         </a>
         <br/>
        </div>
        <img height="39" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/english/wheretogetthephpmagazine.gif" width="150"/>
        <br/>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <div class="navigation_sub">
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=62&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="206">
            Austria
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=69&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="207">
            Belgium
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=59&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="208">
            Denmark
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=64&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="209">
            France
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=69&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="210">
            India
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=69&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="211">
            Indonesia
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=63&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="212">
            Italy
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=69&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="213">
            Korea, South
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=86&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="214">
            The Netherlands
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=60&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="215">
            Norway
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=215&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="216">
            Spain
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=69&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="217">
            Sweden
           </span>
          </a>
         </li>
         <li>
          <a class="navigation_sub" href="/itr/service/show.php3?id=71&amp;sesid=&amp;_language=&amp;_country=&amp;nodeid=116">
           <span __boilernet_label="0" __num="218">
            United Kingdom
           </span>
          </a>
         </li>
         <img height="10" src="/itr/tmp_magazine/gfx/fake.gif" width="100%"/>
         <br/>
         <div style="font-size: 11px; line-height: 14px;">
          <span __boilernet_label="1">
           Other shops will
          </span>
          <br/>
          <span __boilernet_label="1">
           follow soon.
          </span>
         </div>
        </div>
        <img height="1" src="/itr/tmp_magazine/gfx/navigation/sub/headlines/blueline.gif" width="150"/>
        <br/>
        <img height="10" src="/itr/tmp_magazine/gfx/fake.gif" width="100%"/>
        <br/>
        <center>
         <font size="1">
          <span __boilernet_label="1">
           -- Advertisement --
          </span>
         </font>
         <table background="/itr/pagerank_bg_140x140.gif" cellpadding="0" cellspacing="0" height="80" width="140">
          <tbody>
           <tr>
            <td align="left" style="padding:5px; font-family:arial;font-size:11px;font-weight:bold;" valign="top">
             <span __boilernet_label="1">
              Kelkoo price comparison in Germany
             </span>
             <br/>
             <span __boilernet_label="0" __num="223">
              -
             </span>
             <a class="kelkoolink" href="http://www.kelkoo.de/b/a/c_125301_handys_telefon_fax.html" target="_blank">
              <span __boilernet_label="0" __num="224">
               Mobiles
              </span>
             </a>
             <br/>
             <span __boilernet_label="0" __num="225">
              -
             </span>
             <a class="kelkoolink" href="http://www.kelkoo.de/b/a/c_136801_mobel.html" target="_blank">
              <span __boilernet_label="0" __num="226">
               Furniture
              </span>
             </a>
             <br/>
             <span __boilernet_label="0" __num="227">
              -
             </span>
             <a class="kelkoolink" href="http://computer.kelkoo.de/b/a/c_113501_notebook.html" target="_blank">
              <span __boilernet_label="0" __num="228">
               Notebooks
              </span>
             </a>
             <br/>
             <span __boilernet_label="0" __num="229">
              -
             </span>
             <a class="kelkoolink" href="http://reisen.kelkoo.de/b/a/c_170701_hotels.html" target="_blank">
              <span __boilernet_label="0" __num="230">
               Hotels
              </span>
             </a>
             <br/>
             <span __boilernet_label="0" __num="231">
              -
             </span>
             <a class="kelkoolink" href="http://reisen.kelkoo.de/category.jsp?catId=172201" target="_blank">
              <span __boilernet_label="0" __num="232">
               Flights
              </span>
             </a>
             <br/>
             <span __boilernet_label="0" __num="233">
              -
             </span>
             <a class="kelkoolink" href="http://www.kelkoo.de/b/a/c_124901_digitalkamera.html" target="_blank">
              <span __boilernet_label="0" __num="234">
               Digital cameras
              </span>
             </a>
            </td>
           </tr>
          </tbody>
         </table>
        </center>
       </td>
       <td bgcolor="#4A536A" width="1">
        <img height="100%" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
      </tr>
      <tr>
       <td bgcolor="#4A536A" height="50" width="1">
        <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#EFEFEF" height="50" width="150">
        <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="150"/>
       </td>
       <td bgcolor="#4A536A" height="50" width="1">
        <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#FFFFFF" height="50" valign="top" width="676">
        <table border="0" cellpadding="0" cellspacing="0" height="50" width="676">
         <tbody>
          <tr>
           <td height="50" rowspan="2" width="10">
            <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="10"/>
           </td>
           <td colspan="3" height="1" width="656">
            <img height="1" src="/itr/tmp_magazine/gfx/points_copyright.gif" width="656"/>
           </td>
           <td height="50" rowspan="2" width="10">
            <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="10"/>
           </td>
          </tr>
          <tr>
           <td align="center" height="49" width="594">
            <div class="copyright">
             <span __boilernet_label="0" __num="235">
              © 2005
             </span>
             <a href="http://entwickler.com/sus/psecom,id,3,nodeid,3,p,,_language,uk.html">
              <span __boilernet_label="0" __num="236">
               Software &amp; Support Verlag GmbH
              </span>
             </a>
             <span __boilernet_label="0" __num="237">
              . Reproduction has to be permitted by the publisher.
             </span>
             <a href="mailto:info@phpmag.net">
              <span __boilernet_label="0" __num="238">
               Any Questions?
              </span>
             </a>
            </div>
           </td>
           <td height="49" width="10">
            <img height="49i" src="/itr/tmp_magazine/gfx/fake.gif" width="10"/>
           </td>
           <td height="49" width="52">
            <a href="http://entwickler.com/sus/psecom,id,3,nodeid,3,p,,_language,uk.html" target="_blank">
             <img alt="Software &amp; Support Verlag GmbH" border="0" height="30" src="/itr/tmp_magazine/gfx/footer/copyright/sus_logo.gif" width="52"/>
            </a>
           </td>
          </tr>
         </tbody>
        </table>
       </td>
       <td bgcolor="#4A536A" height="50" width="1">
        <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
       <td bgcolor="#EFEFEF" height="50" width="150">
        <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="150"/>
       </td>
       <td bgcolor="#4A536A" height="50" width="1">
        <img height="50" src="/itr/tmp_magazine/gfx/fake.gif" width="1"/>
       </td>
      </tr>
     </tbody>
    </table>
   </div>
  </text>
 </body>
</html>